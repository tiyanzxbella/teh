<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TehBot - Telegram Bot API Library Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #0a0a0a;
            --sidebar-bg: #111111;
            --content-bg: #0f0f0f;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --text: #e5e5e5;
            --text-muted: #a3a3a3;
            --text-dim: #737373;
            --border: #262626;
            --code-bg: #1a1a1a;
            --success: #10b981;
            --warning: #f59e0b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 32px 24px;
        }

        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 32px;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent), #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-title {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-dim);
            font-weight: 600;
            margin-bottom: 8px;
            padding: 0 12px;
        }

        .nav-link {
            display: block;
            padding: 8px 12px;
            color: var(--text-muted);
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.15s;
            margin-bottom: 2px;
        }

        .nav-link:hover {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
        }

        .nav-link.active {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent);
            font-weight: 500;
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 48px 64px;
            max-width: 1200px;
        }

        .hero {
            margin-bottom: 64px;
        }

        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--text), var(--text-muted));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 20px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge.new {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        section {
            margin-bottom: 64px;
        }

        h2 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--text);
        }

        h3 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
            margin-top: 32px;
            color: var(--text);
        }

        h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            margin-top: 24px;
            color: var(--text);
        }

        p {
            color: var(--text-muted);
            margin-bottom: 16px;
            line-height: 1.7;
        }

        .code-block {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin: 16px 0;
            overflow-x: auto;
            position: relative;
        }

        .code-block code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text);
        }

        .inline-code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: var(--accent);
            border: 1px solid var(--border);
        }

        .method-signature {
            background: var(--code-bg);
            border-left: 3px solid var(--accent);
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
        }

        .method-signature code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: var(--text);
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            background: var(--content-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .param-table th {
            background: var(--code-bg);
            padding: 12px;
            text-align: left;
            font-size: 13px;
            font-weight: 600;
            color: var(--text);
            border-bottom: 1px solid var(--border);
        }

        .param-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
            color: var(--text-muted);
        }

        .param-table tr:last-child td {
            border-bottom: none;
        }

        .alert {
            padding: 16px 20px;
            border-radius: 8px;
            margin: 16px 0;
            border-left: 4px solid;
        }

        .alert.info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--accent);
            color: var(--text-muted);
        }

        .alert.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--text-muted);
        }

        .alert.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
            color: var(--text-muted);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }

        .feature-card {
            background: var(--content-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--accent);
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        li {
            padding-left: 24px;
            margin-bottom: 8px;
            color: var(--text-muted);
            position: relative;
        }

        li:before {
            content: "â†’";
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: 700;
        }

        .mobile-menu-btn {
            display: none;
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: var(--accent);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 968px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
                z-index: 999;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 32px 24px;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }
        }

        .keyword { color: #c792ea; }
        .function { color: #82aaff; }
        .string { color: #c3e88d; }
        .comment { color: #546e7a; }
        .number { color: #f78c6c; }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">T</div>
                TehBot
            </div>
            
            <nav>
                <div class="nav-section">
                    <div class="nav-title">Getting Started</div>
                    <a href="#introduction" class="nav-link">Introduction</a>
                    <a href="#installation" class="nav-link">Installation</a>
                    <a href="#quick-start" class="nav-link">Quick Start</a>
                    <a href="#features" class="nav-link">Features</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Core Concepts</div>
                    <a href="#initialization" class="nav-link">Initialization</a>
                    <a href="#polling" class="nav-link">Polling</a>
                    <a href="#webhooks" class="nav-link">Webhooks</a>
                    <a href="#context" class="nav-link">Context</a>
                    <a href="#middleware" class="nav-link">Middleware</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Sending Messages</div>
                    <a href="#send-message" class="nav-link">sendMessage</a>
                    <a href="#send-photo" class="nav-link">sendPhoto</a>
                    <a href="#send-video" class="nav-link">sendVideo</a>
                    <a href="#send-document" class="nav-link">sendDocument</a>
                    <a href="#send-location" class="nav-link">sendLocation</a>
                    <a href="#send-poll" class="nav-link">sendPoll</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Message Management</div>
                    <a href="#edit-message" class="nav-link">Editing Messages</a>
                    <a href="#delete-message" class="nav-link">Deleting Messages</a>
                    <a href="#forward-message" class="nav-link">Forwarding Messages</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Chat Management</div>
                    <a href="#chat-info" class="nav-link">Get Chat Info</a>
                    <a href="#chat-members" class="nav-link">Chat Members</a>
                    <a href="#chat-admin" class="nav-link">Admin Actions</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Keyboards</div>
                    <a href="#inline-keyboard" class="nav-link">Inline Keyboards</a>
                    <a href="#reply-keyboard" class="nav-link">Reply Keyboards</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Bot API v9.3</div>
                    <a href="#message-draft" class="nav-link">Message Drafts</a>
                    <a href="#gifts" class="nav-link">Gifts & Assets</a>
                    <a href="#forum-topics" class="nav-link">Forum Topics</a>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Advanced</div>
                    <a href="#file-handling" class="nav-link">File Handling</a>
                    <a href="#inline-mode" class="nav-link">Inline Mode</a>
                    <a href="#payments" class="nav-link">Payments</a>
                    <a href="#error-handling" class="nav-link">Error Handling</a>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="hero">
                <h1>TehBot Library</h1>
                <p>High-performance, zero-dependency Telegram Bot API library for Node.js with full Bot API v9.3 support.</p>
            </div>

            <section id="introduction">
                <h2>Introduction</h2>
                <p>TehBot is a modern, lightweight library for building Telegram bots using Node.js. It communicates directly with the official Telegram Bot API without any middleware or dependencies, ensuring maximum performance and minimal overhead.</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Zero Dependencies</h4>
                        <p>Pure Node.js implementation with no external packages required.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Full API Coverage</h4>
                        <p>Supports all Telegram Bot API v9.3 methods and features.</p>
                    </div>
                    <div class="feature-card">
                        <h4>TypeScript Ready</h4>
                        <p>Complete type definitions included for the best development experience.</p>
                    </div>
                    <div class="feature-card">
                        <h4>High Performance</h4>
                        <p>Direct HTTPS communication with efficient request handling.</p>
                    </div>
                </div>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <p>Install TehBot via npm:</p>
                <div class="code-block">
                    <code><span class="keyword">npm</span> <span class="function">install</span> tehbot-library</code>
                </div>
                <p>Or using yarn:</p>
                <div class="code-block">
                    <code><span class="keyword">yarn</span> <span class="function">add</span> tehbot-library</code>
                </div>
            </section>

            <section id="quick-start">
                <h2>Quick Start</h2>
                <p>Get started with TehBot in just a few lines of code:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> TelegramBot = <span class="function">require</span>(<span class="string">'tehbot-library'</span>);

<span class="keyword">const</span> bot = <span class="keyword">new</span> <span class="function">TelegramBot</span>(<span class="string">'YOUR_BOT_TOKEN'</span>, {
  polling: <span class="keyword">true</span>
});

bot.<span class="function">on</span>(<span class="string">'text'</span>, <span class="keyword">async</span> (message, ctx) => {
  <span class="keyword">await</span> ctx.<span class="function">reply</span>(<span class="string">'Hello! You said: '</span> + message.text);
});

console.<span class="function">log</span>(<span class="string">'Bot is running...'</span>);</code>
                </div>
            </section>

            <section id="features">
                <h2>Features</h2>
                <ul>
                    <li>Full support for Telegram Bot API v9.3</li>
                    <li>Polling and Webhook modes</li>
                    <li>Context-based message handling</li>
                    <li>Middleware support for extensibility</li>
                    <li>Command routing system</li>
                    <li>Inline and Reply keyboard builders</li>
                    <li>File upload and download capabilities</li>
                    <li>Type-safe TypeScript definitions</li>
                    <li>Automatic error handling and retries</li>
                    <li>Zero external dependencies</li>
                </ul>
            </section>

            <section id="initialization">
                <h2>Initialization</h2>
                <p>Create a new bot instance with configuration options:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> TelegramBot = <span class="function">require</span>(<span class="string">'tehbot-library'</span>);

<span class="keyword">const</span> bot = <span class="keyword">new</span> <span class="function">TelegramBot</span>(<span class="string">'YOUR_BOT_TOKEN'</span>, {
  polling: <span class="keyword">true</span>,              <span class="comment">// Enable polling</span>
  pollingInterval: <span class="number">1000</span>,      <span class="comment">// Poll every 1 second</span>
  pollingTimeout: <span class="number">30</span>,         <span class="comment">// Timeout after 30 seconds</span>
  webhook: <span class="keyword">false</span>,             <span class="comment">// Disable webhooks</span>
  webhookPort: <span class="number">3000</span>,          <span class="comment">// Webhook server port</span>
  webhookPath: <span class="string">'/webhook'</span>,    <span class="comment">// Webhook endpoint path</span>
  requestTimeout: <span class="number">30000</span>,      <span class="comment">// Request timeout in ms</span>
  baseApiUrl: <span class="string">'https://api.telegram.org'</span>
});</code>
                </div>

                <h3>Configuration Options</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Option</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>polling</code></td>
                            <td>boolean</td>
                            <td>false</td>
                            <td>Enable automatic update polling</td>
                        </tr>
                        <tr>
                            <td><code>pollingInterval</code></td>
                            <td>number</td>
                            <td>1000</td>
                            <td>Milliseconds between polling requests</td>
                        </tr>
                        <tr>
                            <td><code>pollingTimeout</code></td>
                            <td>number</td>
                            <td>30</td>
                            <td>Long polling timeout in seconds</td>
                        </tr>
                        <tr>
                            <td><code>webhook</code></td>
                            <td>boolean</td>
                            <td>false</td>
                            <td>Enable webhook server</td>
                        </tr>
                        <tr>
                            <td><code>webhookPort</code></td>
                            <td>number</td>
                            <td>3000</td>
                            <td>Port for webhook server</td>
                        </tr>
                        <tr>
                            <td><code>webhookPath</code></td>
                            <td>string</td>
                            <td>/webhook</td>
                            <td>URL path for webhook endpoint</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="polling">
                <h2>Polling Mode</h2>
                <p>Polling automatically fetches updates from Telegram at regular intervals. This is the easiest way to get started:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> bot = <span class="keyword">new</span> <span class="function">TelegramBot</span>(token, { polling: <span class="keyword">true</span> });

<span class="comment">// Start polling manually</span>
<span class="keyword">await</span> bot.<span class="function">startPolling</span>();

<span class="comment">// Stop polling when needed</span>
bot.<span class="function">stopPolling</span>();

<span class="comment">// Listen for polling events</span>
bot.<span class="function">on</span>(<span class="string">'polling_start'</span>, () => {
  console.<span class="function">log</span>(<span class="string">'Polling started'</span>);
});

bot.<span class="function">on</span>(<span class="string">'polling_error'</span>, (error) => {
  console.<span class="function">error</span>(<span class="string">'Polling error:'</span>, error);
});</code>
                </div>
            </section>

            <section id="webhooks">
                <h2>Webhooks</h2>
                <p>Webhooks are more efficient for production bots with high traffic. Telegram sends updates directly to your server:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> bot = <span class="keyword">new</span> <span class="function">TelegramBot</span>(token, {
  webhook: <span class="keyword">true</span>,
  webhookPort: <span class="number">8443</span>,
  webhookPath: <span class="string">'/bot-webhook'</span>
});

<span class="comment">// Set webhook URL with Telegram</span>
<span class="keyword">await</span> bot.<span class="function">setWebhook</span>(<span class="string">'https://yourdomain.com/bot-webhook'</span>);

<span class="comment">// Check webhook status</span>
<span class="keyword">const</span> info = <span class="keyword">await</span> bot.<span class="function">getWebhookInfo</span>();
console.<span class="function">log</span>(info);

<span class="comment">// Remove webhook</span>
<span class="keyword">await</span> bot.<span class="function">deleteWebhook</span>();</code>
                </div>
            </section>

            <section id="context">
                <h2>Context Object</h2>
                <p>The context object provides convenient access to update data and helper methods:</p>
                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'message'</span>, <span class="keyword">async</span> (message, ctx) => {
  <span class="comment">// Access update components</span>
  console.<span class="function">log</span>(ctx.message);       <span class="comment">// Current message</span>
  console.<span class="function">log</span>(ctx.chat);          <span class="comment">// Chat information</span>
  console.<span class="function">log</span>(ctx.from);          <span class="comment">// User who sent message</span>
  
  <span class="comment">// Send messages using context helpers</span>
  <span class="keyword">await</span> ctx.<span class="function">send</span>(<span class="string">'Hello!'</span>);
  <span class="keyword">await</span> ctx.<span class="function">reply</span>(<span class="string">'Reply to this message'</span>);
  
  <span class="comment">// Send media</span>
  <span class="keyword">await</span> ctx.<span class="function">replyWithPhoto</span>(<span class="string">'photo.jpg'</span>);
  <span class="keyword">await</span> ctx.<span class="function">replyWithVideo</span>(<span class="string">'video.mp4'</span>);
  <span class="keyword">await</span> ctx.<span class="function">replyWithAudio</span>(<span class="string">'audio.mp3'</span>);
});</code>
                </div>
            </section>

            <section id="middleware">
                <h2>Middleware</h2>
                <p>Middleware functions process updates before they reach your handlers:</p>
                <div class="code-block">
                    <code><span class="comment">// Logger middleware</span>
bot.<span class="function">use</span>(<span class="keyword">async</span> (ctx, next) => {
  console.<span class="function">log</span>(<span class="string">'Update received:'</span>, ctx.update.update_id);
  <span class="keyword">await</span> <span class="function">next</span>();
});

<span class="comment">// Authentication middleware</span>
bot.<span class="function">use</span>(<span class="keyword">async</span> (ctx, next) => {
  <span class="keyword">if</span> (ctx.from?.id === <span class="number">123456789</span>) {
    <span class="keyword">await</span> <span class="function">next</span>();
  } <span class="keyword">else</span> {
    <span class="keyword">await</span> ctx.<span class="function">reply</span>(<span class="string">'Unauthorized'</span>);
  }
});

<span class="comment">// Rate limiting middleware</span>
<span class="keyword">const</span> userLastAction = <span class="keyword">new</span> Map();

bot.<span class="function">use</span>(<span class="keyword">async</span> (ctx, next) => {
  <span class="keyword">const</span> userId = ctx.from?.id;
  <span class="keyword">const</span> now = Date.<span class="function">now</span>();
  <span class="keyword">const</span> lastAction = userLastAction.<span class="function">get</span>(userId) || <span class="number">0</span>;
  
  <span class="keyword">if</span> (now - lastAction < <span class="number">1000</span>) {
    <span class="keyword">return</span> ctx.<span class="function">reply</span>(<span class="string">'Too fast! Please wait.'</span>);
  }
  
  userLastAction.<span class="function">set</span>(userId, now);
  <span class="keyword">await</span> <span class="function">next</span>();
});</code>
                </div>
            </section>

            <section id="send-message">
                <h2>sendMessage</h2>
                <p>Send text messages or media content to users and chats:</p>
                
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendMessage</span>(chatId, content, options)</code>
                </div>

                <h3>Text Messages</h3>
                <div class="code-block">
                    <code><span class="comment">// Simple text message</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(<span class="number">123456789</span>, <span class="string">'Hello, World!'</span>);

<span class="comment">// With formatting</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'**Bold** and *italic*'</span>, {
  parse_mode: <span class="string">'Markdown'</span>
});

<span class="comment">// HTML formatting</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'&lt;b&gt;Bold&lt;/b&gt; and &lt;i&gt;italic&lt;/i&gt;'</span>, {
  parse_mode: <span class="string">'HTML'</span>
});</code>
                </div>

                <h3>Media Messages</h3>
                <div class="code-block">
                    <code><span class="comment">// Send photo with caption</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, {
  image: <span class="string">'photo.jpg'</span>,
  caption: <span class="string">'Beautiful photo!'</span>
});

<span class="comment">// Send video</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, {
  video: <span class="string">'video.mp4'</span>,
  caption: <span class="string">'Check this out'</span>
});

<span class="comment">// Send document</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, {
  document: <span class="string">'report.pdf'</span>,
  caption: <span class="string">'Monthly report'</span>
});</code>
                </div>

                <h3>Options</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>parse_mode</code></td>
                            <td>string</td>
                            <td>Markdown, MarkdownV2, or HTML</td>
                        </tr>
                        <tr>
                            <td><code>disable_notification</code></td>
                            <td>boolean</td>
                            <td>Send message silently</td>
                        </tr>
                        <tr>
                            <td><code>reply_to_message_id</code></td>
                            <td>number</td>
                            <td>Reply to a specific message</td>
                        </tr>
                        <tr>
                            <td><code>reply_markup</code></td>
                            <td>object</td>
                            <td>Inline or reply keyboard</td>
                        </tr>
                        <tr>
                            <td><code>message_thread_id</code></td>
                            <td>number</td>
                            <td>Send to specific forum topic (v9.3)</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="send-photo">
                <h2>sendPhoto</h2>
                <p>Send photos from various sources:</p>
                
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendPhoto</span>(chatId, photo, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="comment">// From local file</span>
<span class="keyword">await</span> bot.<span class="function">sendPhoto</span>(chatId, <span class="string">'./image.jpg'</span>);

<span class="comment">// From URL</span>
<span class="keyword">await</span> bot.<span class="function">sendPhoto</span>(chatId, <span class="string">'https://example.com/photo.jpg'</span>);

<span class="comment">// From Buffer</span>
<span class="keyword">const</span> buffer = <span class="keyword">await</span> fs.<span class="function">readFile</span>(<span class="string">'image.jpg'</span>);
<span class="keyword">await</span> bot.<span class="function">sendPhoto</span>(chatId, buffer);

<span class="comment">// With caption and options</span>
<span class="keyword">await</span> bot.<span class="function">sendPhoto</span>(chatId, <span class="string">'photo.jpg'</span>, {
  caption: <span class="string">'Amazing sunset!'</span>,
  parse_mode: <span class="string">'Markdown'</span>
});</code>
                </div>
            </section>

            <section id="send-video">
                <h2>sendVideo</h2>
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendVideo</span>(chatId, video, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="keyword">await</span> bot.<span class="function">sendVideo</span>(chatId, <span class="string">'video.mp4'</span>, {
  caption: <span class="string">'Tutorial video'</span>,
  supports_streaming: <span class="keyword">true</span>,
  duration: <span class="number">120</span>,
  width: <span class="number">1920</span>,
  height: <span class="number">1080</span>
});</code>
                </div>
            </section>

            <section id="send-document">
                <h2>sendDocument</h2>
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendDocument</span>(chatId, document, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="keyword">await</span> bot.<span class="function">sendDocument</span>(chatId, <span class="string">'report.pdf'</span>, {
  caption: <span class="string">'Q4 Financial Report'</span>,
  disable_content_type_detection: <span class="keyword">false</span>
});</code>
                </div>
            </section>

            <section id="send-location">
                <h2>sendLocation</h2>
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendLocation</span>(chatId, latitude, longitude, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="comment">// Static location</span>
<span class="keyword">await</span> bot.<span class="function">sendLocation</span>(chatId, <span class="number">37.7749</span>, <span class="number">-122.4194</span>);

<span class="comment">// Live location</span>
<span class="keyword">await</span> bot.<span class="function">sendLocation</span>(chatId, <span class="number">37.7749</span>, <span class="number">-122.4194</span>, {
  live_period: <span class="number">3600</span> <span class="comment">// 1 hour</span>
});</code>
                </div>
            </section>

            <section id="send-poll">
                <h2>sendPoll</h2>
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendPoll</span>(chatId, question, options, params)</code>
                </div>

                <div class="code-block">
                    <code><span class="comment">// Regular poll</span>
<span class="keyword">await</span> bot.<span class="function">sendPoll</span>(chatId, <span class="string">'What is your favorite color?'</span>, [
  <span class="string">'Red'</span>,
  <span class="string">'Blue'</span>,
  <span class="string">'Green'</span>,
  <span class="string">'Yellow'</span>
]);

<span class="comment">// Quiz with correct answer</span>
<span class="keyword">await</span> bot.<span class="function">sendPoll</span>(chatId, <span class="string">'What is 2 + 2?'</span>, [
  <span class="string">'3'</span>,
  <span class="string">'4'</span>,
  <span class="string">'5'</span>
], {
  type: <span class="string">'quiz'</span>,
  correct_option_id: <span class="number">1</span>, <span class="comment">// Index of correct answer</span>
  explanation: <span class="string">'Basic math!'</span>
});</code>
                </div>
            </section>

            <section id="edit-message">
                <h2>Editing Messages</h2>
                <p>Edit message text, captions, or reply markup:</p>

                <div class="code-block">
                    <code><span class="comment">// Edit message text</span>
<span class="keyword">await</span> bot.<span class="function">editMessageText</span>(<span class="string">'Updated text'</span>, {
  chat_id: chatId,
  message_id: messageId
});

<span class="comment">// Edit inline message</span>
<span class="keyword">await</span> bot.<span class="function">editMessageText</span>(<span class="string">'New text'</span>, {
  inline_message_id: inlineMessageId
});

<span class="comment">// Edit caption</span>
<span class="keyword">await</span> bot.<span class="function">editMessageCaption</span>({
  chat_id: chatId,
  message_id: messageId,
  caption: <span class="string">'New caption'</span>
});

<span class="comment">// Edit keyboard</span>
<span class="keyword">await</span> bot.<span class="function">editMessageReplyMarkup</span>({
  chat_id: chatId,
  message_id: messageId,
  reply_markup: newKeyboard
});</code>
                </div>
            </section>

            <section id="delete-message">
                <h2>Deleting Messages</h2>
                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">deleteMessage</span>(chatId, messageId)</code>
                </div>

                <div class="code-block">
                    <code><span class="keyword">await</span> bot.<span class="function">deleteMessage</span>(chatId, messageId);</code>
                </div>
            </section>

            <section id="forward-message">
                <h2>Forwarding Messages</h2>
                <div class="code-block">
                    <code><span class="comment">// Forward message</span>
<span class="keyword">await</span> bot.<span class="function">forwardMessage</span>(toChatId, fromChatId, messageId);

<span class="comment">// Copy message (without forward header)</span>
<span class="keyword">await</span> bot.<span class="function">copyMessage</span>(toChatId, fromChatId, messageId);</code>
                </div>
            </section>

            <section id="chat-info">
                <h2>Get Chat Information</h2>
                <div class="code-block">
                    <code><span class="comment">// Get chat details</span>
<span class="keyword">const</span> chat = <span class="keyword">await</span> bot.<span class="function">getChat</span>(chatId);
console.<span class="function">log</span>(chat.title, chat.type);

<span class="comment">// Get member count</span>
<span class="keyword">const</span> count = <span class="keyword">await</span> bot.<span class="function">getChatMemberCount</span>(chatId);

<span class="comment">// Get administrators</span>
<span class="keyword">const</span> admins = <span class="keyword">await</span> bot.<span class="function">getChatAdministrators</span>(chatId);

<span class="comment">// Get specific member info</span>
<span class="keyword">const</span> member = <span class="keyword">await</span> bot.<span class="function">getChatMember</span>(chatId, userId);</code>
                </div>
            </section>

            <section id="chat-members">
                <h2>Chat Members</h2>
                <div class="code-block">
                    <code><span class="comment">// Ban user</span>
<span class="keyword">await</span> bot.<span class="function">banChatMember</span>(chatId, userId);

<span class="comment">// Ban with duration</span>
<span class="keyword">await</span> bot.<span class="function">banChatMember</span>(chatId, userId, {
  until_date: Date.<span class="function">now</span>() / <span class="number">1000</span> + <span class="number">3600</span> <span class="comment">// 1 hour</span>
});

<span class="comment">// Unban user</span>
<span class="keyword">await</span> bot.<span class="function">unbanChatMember</span>(chatId, userId);

<span class="comment">// Restrict user</span>
<span class="keyword">await</span> bot.<span class="function">restrictChatMember</span>(chatId, userId, {
  can_send_messages: <span class="keyword">false</span>,
  can_send_media_messages: <span class="keyword">false</span>
});</code>
                </div>
            </section>

            <section id="chat-admin">
                <h2>Admin Actions</h2>
                <div class="code-block">
                    <code><span class="comment">// Promote user to admin</span>
<span class="keyword">await</span> bot.<span class="function">promoteChatMember</span>(chatId, userId, {
  can_delete_messages: <span class="keyword">true</span>,
  can_restrict_members: <span class="keyword">true</span>,
  can_pin_messages: <span class="keyword">true</span>
});

<span class="comment">// Set chat title</span>
<span class="keyword">await</span> bot.<span class="function">setChatTitle</span>(chatId, <span class="string">'New Group Title'</span>);

<span class="comment">// Set chat description</span>
<span class="keyword">await</span> bot.<span class="function">setChatDescription</span>(chatId, <span class="string">'Updated description'</span>);

<span class="comment">// Pin message</span>
<span class="keyword">await</span> bot.<span class="function">pinChatMessage</span>(chatId, messageId, {
  disable_notification: <span class="keyword">true</span>
});

<span class="comment">// Unpin all messages</span>
<span class="keyword">await</span> bot.<span class="function">unpinAllChatMessages</span>(chatId);</code>
                </div>
            </section>

            <section id="inline-keyboard">
                <h2>Inline Keyboards</h2>
                <p>Create interactive buttons attached to messages:</p>

                <div class="code-block">
                    <code><span class="keyword">const</span> { InlineKeyboardBuilder } = <span class="function">require</span>(<span class="string">'tehbot-library'</span>);

<span class="keyword">const</span> keyboard = <span class="keyword">new</span> <span class="function">InlineKeyboardBuilder</span>()
  .<span class="function">text</span>(<span class="string">'Button 1'</span>, <span class="string">'callback_1'</span>)
  .<span class="function">text</span>(<span class="string">'Button 2'</span>, <span class="string">'callback_2'</span>)
  .<span class="function">row</span>()
  .<span class="function">url</span>(<span class="string">'Visit Website'</span>, <span class="string">'https://example.com'</span>)
  .<span class="function">row</span>()
  .<span class="function">switchInline</span>(<span class="string">'Share'</span>, <span class="string">'Check this out!'</span>)
  .<span class="function">build</span>();

<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'Choose an option:'</span>, {
  reply_markup: keyboard
});

<span class="comment">// Handle button clicks</span>
bot.<span class="function">on</span>(<span class="string">'callback_query'</span>, <span class="keyword">async</span> (query, ctx) => {
  <span class="keyword">if</span> (query.data === <span class="string">'callback_1'</span>) {
    <span class="keyword">await</span> ctx.<span class="function">answerCallbackQuery</span>({
      text: <span class="string">'Button 1 pressed!'</span>
    });
    <span class="keyword">await</span> ctx.<span class="function">editMessageText</span>(<span class="string">'You selected Button 1'</span>);
  }
});</code>
                </div>

                <h3>Available Methods</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>text(label, callbackData)</code></td>
                            <td>Add button with callback data</td>
                        </tr>
                        <tr>
                            <td><code>url(label, url)</code></td>
                            <td>Add button that opens URL</td>
                        </tr>
                        <tr>
                            <td><code>switchInline(label, query)</code></td>
                            <td>Switch to inline mode</td>
                        </tr>
                        <tr>
                            <td><code>switchInlineCurrent(label, query)</code></td>
                            <td>Switch to inline in current chat</td>
                        </tr>
                        <tr>
                            <td><code>login(label, loginUrl)</code></td>
                            <td>Telegram Login Widget</td>
                        </tr>
                        <tr>
                            <td><code>pay(label)</code></td>
                            <td>Payment button</td>
                        </tr>
                        <tr>
                            <td><code>row()</code></td>
                            <td>Start new button row</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="reply-keyboard">
                <h2>Reply Keyboards</h2>
                <p>Create custom keyboards that replace the standard keyboard:</p>

                <div class="code-block">
                    <code><span class="keyword">const</span> { ReplyKeyboardBuilder } = <span class="function">require</span>(<span class="string">'tehbot-library'</span>);

<span class="keyword">const</span> keyboard = <span class="keyword">new</span> <span class="function">ReplyKeyboardBuilder</span>()
  .<span class="function">text</span>(<span class="string">'Option 1'</span>)
  .<span class="function">text</span>(<span class="string">'Option 2'</span>)
  .<span class="function">row</span>()
  .<span class="function">requestContact</span>(<span class="string">'Share Contact'</span>)
  .<span class="function">requestLocation</span>(<span class="string">'Share Location'</span>)
  .<span class="function">row</span>()
  .<span class="function">requestPoll</span>(<span class="string">'Create Poll'</span>, <span class="string">'quiz'</span>)
  .<span class="function">resize</span>()
  .<span class="function">oneTime</span>()
  .<span class="function">placeholder</span>(<span class="string">'Choose an option...'</span>)
  .<span class="function">build</span>();

<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'Select:'</span>, {
  reply_markup: keyboard
});</code>
                </div>

                <h3>Keyboard Options</h3>
                <ul>
                    <li><code>resize()</code> - Resize keyboard to fit buttons</li>
                    <li><code>oneTime()</code> - Hide keyboard after button press</li>
                    <li><code>selective()</code> - Show to specific users only</li>
                    <li><code>placeholder(text)</code> - Placeholder in input field</li>
                </ul>
            </section>

            <section id="message-draft">
                <h2>Message Drafts <span class="badge new">v9.3</span></h2>
                <p>Stream partial messages for real-time updates:</p>

                <div class="alert info">
                    <strong>New in Bot API v9.3:</strong> Message drafts allow you to send messages incrementally, perfect for streaming AI responses or long-running processes.
                </div>

                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">sendMessageDraft</span>(chatId, text, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="comment">// Start streaming message</span>
<span class="keyword">const</span> draft = <span class="keyword">await</span> bot.<span class="function">sendMessageDraft</span>(chatId, <span class="string">'Starting...'</span>);

<span class="comment">// Update draft progressively</span>
<span class="keyword">await</span> bot.<span class="function">editMessageText</span>(<span class="string">'Processing step 1...'</span>, {
  chat_id: chatId,
  message_id: draft.message_id
});

<span class="keyword">await</span> bot.<span class="function">editMessageText</span>(<span class="string">'Final result!'</span>, {
  chat_id: chatId,
  message_id: draft.message_id
});</code>
                </div>
            </section>

            <section id="gifts">
                <h2>Gifts & Assets <span class="badge new">v9.3</span></h2>
                <p>Manage Telegram gifts and digital assets:</p>

                <div class="method-signature">
                    <code><span class="keyword">async</span> <span class="function">getUserGifts</span>(userId, options)</code>
                </div>

                <div class="code-block">
                    <code><span class="comment">// Get user's gifts</span>
<span class="keyword">const</span> gifts = <span class="keyword">await</span> bot.<span class="function">getUserGifts</span>(userId);

gifts.<span class="function">forEach</span>(gift => {
  console.<span class="function">log</span>(<span class="string">`Gift ID: ${gift.id}`</span>);
  console.<span class="function">log</span>(<span class="string">`Star Count: ${gift.star_count}`</span>);
  console.<span class="function">log</span>(<span class="string">`Premium: ${gift.is_premium}`</span>);
});

<span class="comment">// Get chat gifts</span>
<span class="keyword">const</span> chatGifts = <span class="keyword">await</span> bot.<span class="function">getChatGifts</span>(chatId);

<span class="comment">// Filter blockchain gifts</span>
<span class="keyword">const</span> blockchainGifts = <span class="keyword">await</span> bot.<span class="function">getUserGifts</span>(userId, {
  exclude_from_blockchain: <span class="keyword">false</span>
});</code>
                </div>

                <div class="alert info">
                    <strong>Gift Features:</strong> Includes support for unique gift variants, colors, backgrounds, and blockchain integration introduced in API v9.3.
                </div>
            </section>

            <section id="forum-topics">
                <h2>Forum Topics <span class="badge new">v9.3</span></h2>
                <p>Manage forum topics in private chats and groups:</p>

                <div class="code-block">
                    <code><span class="comment">// Send to specific topic</span>
<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'Topic message'</span>, {
  message_thread_id: <span class="number">123</span>
});

<span class="comment">// Edit forum topic</span>
<span class="keyword">await</span> bot.<span class="function">editForumTopic</span>(chatId, topicId, {
  name: <span class="string">'Updated Topic Name'</span>,
  icon_custom_emoji_id: <span class="string">'5370869711888194012'</span>
});

<span class="comment">// Delete forum topic</span>
<span class="keyword">await</span> bot.<span class="function">deleteForumTopic</span>(chatId, topicId);

<span class="comment">// Unpin all topic messages</span>
<span class="keyword">await</span> bot.<span class="function">unpinAllForumTopicMessages</span>(chatId, topicId);</code>
                </div>

                <div class="alert info">
                    <strong>Private Chat Topics:</strong> Bot API v9.3 adds forum topic support in private chats when <code>has_topics_enabled</code> is true.
                </div>
            </section>

            <section id="file-handling">
                <h2>File Handling</h2>
                <p>Download and upload files:</p>

                <div class="code-block">
                    <code><span class="comment">// Get file info</span>
<span class="keyword">const</span> file = <span class="keyword">await</span> bot.<span class="function">getFile</span>(fileId);
console.<span class="function">log</span>(file.file_path, file.file_size);

<span class="comment">// Download file</span>
<span class="keyword">await</span> bot.<span class="function">downloadFile</span>(fileId, <span class="string">'./downloads/file.jpg'</span>);

<span class="comment">// Upload from stream</span>
<span class="keyword">const</span> fs = <span class="function">require</span>(<span class="string">'fs'</span>);
<span class="keyword">const</span> stream = fs.<span class="function">createReadStream</span>(<span class="string">'large-file.mp4'</span>);
<span class="keyword">await</span> bot.<span class="function">sendVideo</span>(chatId, stream);</code>
                </div>
            </section>

            <section id="inline-mode">
                <h2>Inline Mode</h2>
                <p>Handle inline queries and provide results:</p>

                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'inline_query'</span>, <span class="keyword">async</span> (query, ctx) => {
  <span class="keyword">const</span> results = [
    {
      type: <span class="string">'article'</span>,
      id: <span class="string">'1'</span>,
      title: <span class="string">'Result 1'</span>,
      input_message_content: {
        message_text: <span class="string">'Content 1'</span>
      }
    },
    {
      type: <span class="string">'photo'</span>,
      id: <span class="string">'2'</span>,
      photo_url: <span class="string">'https://example.com/photo.jpg'</span>,
      thumbnail_url: <span class="string">'https://example.com/thumb.jpg'</span>
    }
  ];

  <span class="keyword">await</span> bot.<span class="function">answerInlineQuery</span>(query.id, results, {
    cache_time: <span class="number">300</span>
  });
});</code>
                </div>
            </section>

            <section id="payments">
                <h2>Payments API <span class="badge">Complete</span></h2>
                <p>TehBot provides full support for Telegram's Payment API, allowing you to accept payments directly through your bot using various payment providers.</p>

                <div class="alert info">
                    <strong>Payment Provider Setup Required:</strong> Before accepting payments, you need to connect a payment provider through @BotFather using the /setprovidertoken command.
                </div>

                <h3>Sending Invoices</h3>
                <p>Create and send payment invoices to users:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> invoice = <span class="keyword">await</span> bot.<span class="function">sendInvoice</span>(
  chatId,
  <span class="string">'Premium Subscription'</span>,
  <span class="string">'Get access to premium features for 1 month'</span>,
  <span class="string">'premium-monthly-payload'</span>,
  <span class="string">'YOUR_PROVIDER_TOKEN'</span>,
  <span class="string">'USD'</span>,
  [
    { label: <span class="string">'Premium Plan'</span>, amount: <span class="number">999</span> }, <span class="comment">// Amount in cents</span>
    { label: <span class="string">'Processing Fee'</span>, amount: <span class="number">50</span> }
  ],
  {
    photo_url: <span class="string">'https://example.com/premium.jpg'</span>,
    need_email: <span class="keyword">true</span>,
    need_shipping_address: <span class="keyword">false</span>,
    is_flexible: <span class="keyword">false</span>
  }
);</code>
                </div>

                <h3>Invoice Parameters</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>chatId</code></td>
                            <td>number | string</td>
                            <td>Target chat or user ID</td>
                        </tr>
                        <tr>
                            <td><code>title</code></td>
                            <td>string</td>
                            <td>Product name (1-32 characters)</td>
                        </tr>
                        <tr>
                            <td><code>description</code></td>
                            <td>string</td>
                            <td>Product description (1-255 characters)</td>
                        </tr>
                        <tr>
                            <td><code>payload</code></td>
                            <td>string</td>
                            <td>Bot-defined invoice payload (1-128 bytes)</td>
                        </tr>
                        <tr>
                            <td><code>providerToken</code></td>
                            <td>string</td>
                            <td>Payment provider token from @BotFather</td>
                        </tr>
                        <tr>
                            <td><code>currency</code></td>
                            <td>string</td>
                            <td>Three-letter ISO 4217 currency code</td>
                        </tr>
                        <tr>
                            <td><code>prices</code></td>
                            <td>LabeledPrice[]</td>
                            <td>Price breakdown with labels</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Creating Invoice Links</h3>
                <p>Generate payment links that can be shared anywhere:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> invoiceLink = <span class="keyword">await</span> bot.<span class="function">createInvoiceLink</span>(
  <span class="string">'Digital Product'</span>,
  <span class="string">'Download access to digital content'</span>,
  <span class="string">'digital-product-payload'</span>,
  <span class="string">'YOUR_PROVIDER_TOKEN'</span>,
  <span class="string">'USD'</span>,
  [{ label: <span class="string">'Product Price'</span>, amount: <span class="number">1999</span> }]
);

console.<span class="function">log</span>(<span class="string">'Payment link:'</span>, invoiceLink);</code>
                </div>

                <h3>Handling Shipping Queries</h3>
                <p>Respond to shipping queries for flexible invoices:</p>
                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'shipping_query'</span>, <span class="keyword">async</span> (query, ctx) => {
  <span class="keyword">const</span> shippingOptions = [
    {
      id: <span class="string">'standard'</span>,
      title: <span class="string">'Standard Shipping'</span>,
      prices: [{ label: <span class="string">'Shipping'</span>, amount: <span class="number">500</span> }]
    },
    {
      id: <span class="string">'express'</span>,
      title: <span class="string">'Express Shipping'</span>,
      prices: [{ label: <span class="string">'Shipping'</span>, amount: <span class="number">1000</span> }]
    }
  ];

  <span class="keyword">await</span> bot.<span class="function">answerShippingQuery</span>(query.id, <span class="keyword">true</span>, {
    shipping_options: shippingOptions
  });
});</code>
                </div>

                <h3>Handling Pre-Checkout Queries</h3>
                <p>Validate payment information before final confirmation:</p>
                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'pre_checkout_query'</span>, <span class="keyword">async</span> (query, ctx) => {
  <span class="comment">// Perform final validation</span>
  <span class="keyword">const</span> isValid = <span class="keyword">await</span> <span class="function">validatePayment</span>(query.invoice_payload);
  
  <span class="keyword">if</span> (isValid) {
    <span class="keyword">await</span> bot.<span class="function">answerPreCheckoutQuery</span>(query.id, <span class="keyword">true</span>);
  } <span class="keyword">else</span> {
    <span class="keyword">await</span> bot.<span class="function">answerPreCheckoutQuery</span>(query.id, <span class="keyword">false</span>, {
      error_message: <span class="string">'Payment validation failed'</span>
    });
  }
});</code>
                </div>

                <h3>Successful Payment Notification</h3>
                <p>Handle successful payment confirmations:</p>
                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'successful_payment'</span>, <span class="keyword">async</span> (payment, ctx) => {
  console.<span class="function">log</span>(<span class="string">'Payment received:'</span>, {
    currency: payment.currency,
    totalAmount: payment.total_amount,
    payload: payment.invoice_payload,
    chargeId: payment.telegram_payment_charge_id
  });

  <span class="keyword">await</span> ctx.<span class="function">reply</span>(
    <span class="string">'âœ… Payment successful! Thank you for your purchase.'</span>
  );

  <span class="comment">// Grant user access to purchased content</span>
  <span class="keyword">await</span> <span class="function">grantPremiumAccess</span>(ctx.from.id, payment.invoice_payload);
});</code>
                </div>

                <h3>Star Transactions (Telegram Stars)</h3>
                <p>Manage Telegram Stars payments and subscriptions:</p>
                <div class="code-block">
                    <code><span class="comment">// Get star transaction history</span>
<span class="keyword">const</span> transactions = <span class="keyword">await</span> bot.<span class="function">getStarTransactions</span>({ limit: <span class="number">50</span> });

<span class="comment">// Refund a star payment</span>
<span class="keyword">await</span> bot.<span class="function">refundStarPayment</span>(userId, telegramPaymentChargeId);

<span class="comment">// Cancel a star subscription</span>
<span class="keyword">await</span> bot.<span class="function">editUserStarSubscription</span>(userId, chargeId, <span class="keyword">true</span>);</code>
                </div>

                <h3>Handling Refunded Payments</h3>
                <p>Process payment refund notifications:</p>
                <div class="code-block">
                    <code>bot.<span class="function">on</span>(<span class="string">'refunded_payment'</span>, <span class="keyword">async</span> (refund, ctx) => {
  console.<span class="function">log</span>(<span class="string">'Payment refunded:'</span>, {
    currency: refund.currency,
    amount: refund.total_amount,
    chargeId: refund.telegram_payment_charge_id
  });

  <span class="comment">// Revoke user access</span>
  <span class="keyword">await</span> <span class="function">revokeAccess</span>(ctx.from.id, refund.invoice_payload);
  
  <span class="keyword">await</span> ctx.<span class="function">reply</span>(<span class="string">'Your payment has been refunded.'</span>);
});</code>
                </div>

                <h3>Payment Keyboard Button</h3>
                <p>Add a payment button to inline keyboards:</p>
                <div class="code-block">
                    <code><span class="keyword">const</span> keyboard = TelegramBot.<span class="function">InlineKeyboard</span>()
  .<span class="function">pay</span>(<span class="string">'ðŸ’³ Pay $9.99'</span>)
  .<span class="function">build</span>();

<span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'Click to complete payment:'</span>, {
  reply_markup: keyboard
});</code>
                </div>

                <div class="alert warning">
                    <strong>Security Best Practices:</strong>
                    <ul style="margin-top: 8px; margin-bottom: 0;">
                        <li style="margin-left: 16px;">Always validate the invoice_payload in pre_checkout_query</li>
                        <li style="margin-left: 16px;">Store payment records in your database</li>
                        <li style="margin-left: 16px;">Verify amounts match your expected pricing</li>
                        <li style="margin-left: 16px;">Handle refunds gracefully and revoke access immediately</li>
                        <li style="margin-left: 16px;">Never trust client-side payment validation alone</li>
                    </ul>
                </div>

                <h3>Complete Payment Flow Example</h3>
                <div class="code-block">
                    <code><span class="keyword">const</span> TelegramBot = <span class="function">require</span>(<span class="string">'tehbot-library'</span>);
<span class="keyword">const</span> bot = <span class="keyword">new</span> <span class="function">TelegramBot</span>(<span class="string">'YOUR_BOT_TOKEN'</span>, { polling: <span class="keyword">true</span> });

<span class="comment">// Command to initiate payment</span>
bot.<span class="function">command</span>(<span class="string">'buy'</span>, <span class="keyword">async</span> (ctx) => {
  <span class="keyword">await</span> bot.<span class="function">sendInvoice</span>(
    ctx.chat.id,
    <span class="string">'Premium Access'</span>,
    <span class="string">'1 month premium subscription'</span>,
    <span class="string">'premium-sub-monthly'</span>,
    process.env.PROVIDER_TOKEN,
    <span class="string">'USD'</span>,
    [{ label: <span class="string">'Subscription'</span>, amount: <span class="number">999</span> }],
    { need_email: <span class="keyword">true</span> }
  );
});

<span class="comment">// Validate before payment</span>
bot.<span class="function">on</span>(<span class="string">'pre_checkout_query'</span>, <span class="keyword">async</span> (query) => {
  <span class="keyword">await</span> bot.<span class="function">answerPreCheckoutQuery</span>(query.id, <span class="keyword">true</span>);
});

<span class="comment">// Handle successful payment</span>
bot.<span class="function">on</span>(<span class="string">'successful_payment'</span>, <span class="keyword">async</span> (payment, ctx) => {
  <span class="keyword">await</span> <span class="function">database</span>.<span class="function">grantPremium</span>(ctx.from.id, <span class="number">30</span>);
  <span class="keyword">await</span> ctx.<span class="function">reply</span>(<span class="string">'âœ… Premium activated! Thank you!'</span>);
});</code>
                </div>
            </section>

            <section id="error-handling">
                <h2>Error Handling</h2>
                <p>Handle errors gracefully:</p>

                <div class="code-block">
                    <code><span class="comment">// Global error handler</span>
bot.<span class="function">on</span>(<span class="string">'error'</span>, (error) => {
  console.<span class="function">error</span>(<span class="string">'Bot error:'</span>, error);
});

<span class="comment">// Try-catch for specific operations</span>
<span class="keyword">try</span> {
  <span class="keyword">await</span> bot.<span class="function">sendMessage</span>(chatId, <span class="string">'Test'</span>);
} <span class="keyword">catch</span> (error) {
  <span class="keyword">if</span> (error.code === <span class="number">403</span>) {
    console.<span class="function">log</span>(<span class="string">'Bot was blocked by user'</span>);
  } <span class="keyword">else</span> <span class="keyword">if</span> (error.code === <span class="number">429</span>) {
    console.<span class="function">log</span>(<span class="string">'Rate limited, retry after:'</span>, error.parameters.retry_after);
  } <span class="keyword">else</span> {
    console.<span class="function">error</span>(<span class="string">'Unknown error:'</span>, error);
  }
}</code>
                </div>
            </section>

            <div style="margin-top: 80px; padding-top: 40px; border-top: 1px solid var(--border); text-align: center; color: var(--text-dim);">
                <p>TehBot Library - Telegram Bot API v9.3 - Made with â¤ï¸</p>
                <p style="font-size: 14px; margin-top: 8px;">Zero dependencies â€¢ High performance â€¢ TypeScript ready</p>
            </div>
        </main>
    </div>

    <button class="mobile-menu-btn" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button>

    <script>
        // Smooth scroll to sections
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.getElementById('sidebar').classList.remove('open');
                    
                    // Update active link
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                }
            });
        });

        // Highlight active section on scroll
        const observerOptions = {
            root: null,
            rootMargin: '-100px 0px -66%',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
